Necessary hardware 
====================

Simple Stand
------------

While there are ways you could use the RTI dome by lifting it up and placing it over the object you want to photograph, it makes more sense to have the dome/camera stationary, and have a way to easily swap multiple objects in and out of the system for easy data acquisition. One solution is put the dome on an elevated stand, and I’ll first be describing the simplest possible stand design I can think of. 

There are reasons you might want to modify this setup having to do with how you mount the camera, and I’ll talk about that in the next step. But even there, these instructions will help you with that process. There’s a more advanced/flexible stand design that will be described later.

Grab a wooden dowel about 1” or so in diameter, preferably a soft wood like pine. Cut it into 4 6” long segments for the stand legs:

.. figure:: ../figures/hardware/hardware_1.jpg
   :align: center
   :width: 8cm

Cut a square board with dimensions equal to or slightly larger than the outside diameter of the RTI dome, including the rim. My dome has an OD of 12”, plus a rim of 0.75”, for an outside diameter of 13.5”; I added 1/8” for luck, and had a square board cut with dimensions of 13 5/8” by 13 5/8”. My first stands were made out of wood, but I’ve had problems finding wood flat enough for this purpose. I have switched over to using ½” thickness medium-density fiber board (MDF); it cuts and works like wood, but even large pieces are usually flatter than wood panels. Just don’t get it wet (or paint/seal it if it will be anywhere it might get wet).

Draw diagonal lines from the corners of the board to find the center:

.. figure:: ../figures/hardware/hardware_2.jpg
   :align: center
   :width: 8cm

Measure and cut out a hole centered on the middle of the board, with a diameter roughly equal to the inside base diameter of the dome; doesn’t have to be exact:

.. figure:: ../figures/hardware/hardware_3.jpg
   :align: center
   :width: 8cm

You could attach the dowel legs right now with glue, screws or nails, if you don’t plan on transporting the stand. However, I like to make the dowel legs removable, so that you can break down the stand to a smaller size.
Drill ¼” holes near the corners; I measure about 5/8” along the edges, and drill at the intersection:


.. figure:: ../figures/hardware/hardware_4.jpg
   :align: center
   :width: 8cm

You now want to put ¼-20 threaded inserts into the top of the dowels. There are two varieties of these: screw in (left) and press fit (right):

.. figure:: ../figures/hardware/hardware_5.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_6.jpg
   :align: center
   :width: 8cm

With screw-ins, you drill a hole of a specified size (5/16” for ¼-20 inserts), then screw the insert into the hole. Tip: the slotted end, which you might think is used with a screwdriver to screw in the insert, actually goes in first. With press-fit, you drill a hole just a small bit smaller than the insert, then hammer it in. Screw-ins are more expensive than press-fits, and I had a few press-fits left over from a previous project, so I decided to use those. Turns out I didn’t have a drill bit slightly smaller than the press-fits, so I drilled a slightly larger hole and then glued them in place. Hammered them down before the glue dried so that they would be flush with the top of the dowel:

.. figure:: ../figures/hardware/hardware_7.jpg
   :align: center
   :width: 8cm

Also did a crappy job of putting the hole in the center with a drill. Tip: use a nail or screw to make a small starter hole in the exact position you want the hole, and first drill a pilot hole with a smaller diameter bit than the ultimate hole size.

With threaded inserts, you can run a 1” ¼-20 bolt (with washer) through the main bolt, and screw in the dowel legs:


.. figure:: ../figures/hardware/hardware_8.jpg
   :align: center
   :width: 8cm

Put the dome on, and it fits:

.. figure:: ../figures/hardware/hardware_9.jpg
   :align: center
   :width: 8cm

But it’s too easy to knock the dome off, or to the side. So, cut some ½” dowel pieces about an inch long, and glue them in next to the dome (be careful not to use too much glue that will ooze out and glue the dome in place as well):

.. figure:: ../figures/hardware/hardware_10.jpg
   :align: center
   :width: 8cm

 
In the past, I’ve reinforced these with screws from the bottom, but I don’t really believe that’s necessary (and it runs the risk of splitting the pin). If the pin gets knocked off, it can just be glued back on.

For placing the surface of the object you want to photograph at the correct height, the base of the dome, you could build a box or stand out of wood/MDF, or even stack books up to the correct height. I use a lab jack, which lets you easily adjust the height to any required level:


.. figure:: ../figures/hardware/hardware_11.jpg
   :align: center
   :width: 8cm

This is a just a basic, simple design. You can leave it as is, or paint it in some festive color (I chose white). After painting, I added some rubber pads to the bottom of the dowel legs for skid and vibration resistance; I used some computer soundproofing foam I had lying around. For some options for camera mounting, you may need a larger version of this (see an upcoming section for more info). 

Advanced Stand
--------------

The previous stand instructions let you build a simple stand that will work for basic functions, and is satisfactory for larger domes. However, for small domes (12”-15” in diameter), I’ve come up with an alternate advanced design that can be used in several different useful configurations:

1. Portable mode. Fits into a backpack (12” dome) or Pelican case, sits flat on a surface.
2. Stand mode. Dowel legs raise it above the ground, but an opening in the bottom allows for easy placement of low-profile objects.
3. Micrometer mode. A small microscope micrometer stage allows for accurate positioning of objects when doing macro or microscopic photography.
4. Open mode. The center piece is removed, and the object is positioned using a lab jack or similar stand. This allows the surfaces of thicker objects to be imaged.
5. Vertical mode. The dome is held upright, allowing the surfaces of larger object to be imaged (like pots, paintings, etc.).

Here’s `a video <https://youtu.be/7eKqabiYqeA>`_ that demonstrates the use modes of this stand.

This stand design requires a bit more work to construct than the simple one, but the extra effort is worthwhile because of the expanded flexibility. If you know someone with woodworking skills and tools, I’d suggest buying them a six-pack to help you build it; as you’ll see, my lack of those skills resulted in some less than optimal hacks to put it together (but it still works).

You will need the following:

* 2 flat square pieces of wood or MDF, at least the outer dimension of your dome including the flange. The dome I’m using here is a 12” diameter plus 0.75” flange around the edge, for a total outer dimension of 13.5”. I used 13.625” square MDF pieces, just to play it safe. 0.5” thickness.
* 4 wooden dowel pieces 6” in length, 1” to 1.25” in diameter. Soft wood (e.g. pine) is preferable.
* Vibration-dampening material (for the bottom of the dowel pieces.
* 2 wooden pieces 0.75” to 1” square by approx. 3” to 4” in length; exact length will depend on the size of the dome (see instructions).
* 8 ¼-20 threaded brass inserts.
* 8 ¼-20 1” hex bolts
* 4 ¼-20 metal washers (use with brace bolts)
* 3 2” long `mending plates <http://www.homedepot.com/p/Everbilt-2-in-Zinc-Plated-Mending-Plate-4-Pack-15299/202033910>`_
* 2 1.5” `utility hinges <http://www.homedepot.com/p/Everbilt-1-1-2-in-Zinc-Plated-Narrow-Utility-Hinge-2-Pack-15396/202034103>`_
* 8 3/8” #6 wood screws
* 3 ½” #6 wood screws
* 3 #8 ½” machine screws
* 3 #8 threaded brass inserts
* 4 #10 machine screws or bolts, 1” long
* 4 #10 brass knurled nuts
* 8 #10 metal washers
* 4 #10 neoprene/rubber washers
* Micrometer stage (optional)
* 1.5” or longer #4 machine screw, with nut/washer (optional for micrometer stage)

Optional pieces to secure stand for transport:

* 4 1.5” ¼-20 bolts
* 8 ¼-20 washers
* 4 ¼-20 wing nuts

If you find I’ve forgotten something from the instructions, let me know.

.. note::
   
   Before I begin, a quick note. I made a number of screw-ups in constructing the dome, even though I had a previous version in front of me to act as a model. And, as an added bonus, I also didn’t take pictures at every step. So, if the text and the picture conflict, follow the text. Also, read the directions all the way through (and watch the video), and use that as a guide for what you’re going to build. If something doesn’t make sense right away, read on, hopefully all will become clear.

Start with one of the large wood/MDF squares:

.. figure:: ../figures/hardware/hardware_12.jpg
   :align: center
   :width: 8cm

Draw lines between opposite corners to find the center point at the intersection. Draw an arc with radius equal to the inner dome diameter between two of the diagonals, not including the flange, and cut along that arc; for my 12” diameter dome, that’s a 6” radius:

.. figure:: ../figures/hardware/hardware_13.jpg
   :align: center
   :width: 8cm

Now draw a circle with a radius 1.5” less than the inner dome diameter (4.5” in this case), and cut out a circle from the center. Then, cut out a ¼ radial slice from both the circle, and the remaining board:

.. figure:: ../figures/hardware/hardware_14.jpg
   :align: center
   :width: 8cm

The reason for this slice is to create an opening to allow you to put samples under the dome, and also manipulate the optional micrometer stage; more on this later. This is the bottom plate and the base of the center plate.

With the other square wood/MDF piece, find the center as before, draw a circle all the way around with the inner dome radius (6” for my 12” dome), and cut the circle out of the wood piece. Then, from the circular piece you’ve just cut out, cut out a circle ½ the diameter of your dome (a 6” circle for me, 3” radius). 


.. figure:: ../figures/hardware/hardware_15.jpg
   :align: center
   :width: 8cm

Keep the square (the top plate) and the inner circle; the remaining round ring you can throw out, or find some other use for. This inner circle will be glued to the center plate later.

So you have two cut squares, top and bottom plates:


.. figure:: ../figures/hardware/hardware_16.jpg
   :align: center
   :width: 8cm

The dome will be attached to the top piece, and the top and bottom pieces will be connected with the two hinges. Place the dome on top of the top piece above, and mark the positions where the hinges should go so that they’re as far from the edge as possible, but won’t interfere with the dome:

.. figure:: ../figures/hardware/hardware_17.jpg
   :align: center
   :width: 8cm

Here are the two hinges laid in place in their initial positions on the bottom plate:

.. figure:: ../figures/hardware/hardware_18.jpg
   :align: center
   :width: 8cm

You can attach the hinges directly here, but that would cause a small problem. The thickness of the hinges will keep the top and bottom pieces from being parallel to each other; they will be slightly angled, with a gap at the hinged end and no gap at the far end:

.. figure:: ../figures/hardware/hardware_19.jpg
   :align: center
   :width: 8cm

Here’s the hinge end:

.. figure:: ../figures/hardware/hardware_20.jpg
   :align: center
   :width: 8cm

And here’s the opposite end:

.. figure:: ../figures/hardware/hardware_21.jpg
   :align: center
   :width: 8cm

If you decide to install the hinges this way, you’ll need to add spacers at the far end to compensate for this gap, and keep the top and bottom plates parallel. The alternative, which I’ve been doing, is to mill recesses in the two plates that the hinges will fit into flush. First I use the dome to draw an arc on the bottom plate, to make sure the hinges will fit:

.. figure:: ../figures/hardware/hardware_22.jpg
   :align: center
   :width: 8cm

Then I trace outlines around the edges of the hinges, to mark the places where I need to mill out a recess (reasonably close to the dome):

.. figure:: ../figures/hardware/hardware_23.jpg
   :align: center
   :width: 8cm

Now use these marks as a guide to creating similar recess marks on the top piece. 

.. figure:: ../figures/hardware/hardware_24.jpg
   :align: center
   :width: 8cm

I used a Dremel with a mill attachment, along with a depth control guide, to mill out the recesses to the thickness of the hinge plates. Any woodworking hobbyist should have better tools and expertise to do this with. Here are the bottom and top plates, with the hinges in position in the milled recesses:

.. figure:: ../figures/hardware/hardware_25.jpg
   :align: center
   :width: 8cm

Now use 3/8” #6 wood screws to attach the hinges to the two plates. Do one plate first, then the other one; try and line the plates up so that the hinge edges are parallel to each other. It can also be helpful to drill a shallow starter hole for the screws.

.. figure:: ../figures/hardware/hardware_26.jpg
   :align: center
   :width: 8cm

Flip the plates closed, and check to make sure the plates are flush along their entire length (this is the hinge end, which would have a clear gap if the hinges weren’t installed flush with the surface):

.. figure:: ../figures/hardware/hardware_27.jpg
   :align: center
   :width: 8cm

Now you need to drill four holes for the stand dowel legs. The two on the far end away from the hinges should be drilled about 1” away from each side, as marked here; you will drill a ¼” hole through both plates:

.. figure:: ../figures/hardware/hardware_28.jpg
   :align: center
   :width: 8cm

The next picture shows the four dowel holes drilled through both plates. 

.. figure:: ../figures/hardware/hardware_29.jpg
   :align: center
   :width: 8cm

The holes furthest from the hinges are in the correct positions; the holes nearest the hinges were drilled incorrectly. You want these near-hinge holes to be about 1” from the side, but about 2.5” from the back edge. This is to give room for the square braces necessary to hold the top plate vertically in one mode, and create a hole to hold the square brace (see the last part of the video for an example of this). Here’s the bottom plate with the circled near-hinge holes in the correct position (ignore the other holes for now):

.. figure:: ../figures/hardware/hardware_30.jpg
   :align: center
   :width: 8cm

Once you’ve drilled these holes, unscrew the bottom plate from the hinges; you can leave them attached to the top plate.
Now take the 4 6”-long dowel pieces, and drill a hole in the center of one end for the threaded brass insert. For these dowels, I used the brass insert type on the left (externally threaded), which requires a 5/16” hole in the dowels; you can also use press-fits, like the one on the right, which I used for the simple stand:

.. figure:: ../figures/hardware/hardware_31.jpg
   :align: center
   :width: 6cm

It's best to drill a starter hole first, then work your way with increasingly larger drill bits to the 5/16” size:

.. figure:: ../figures/hardware/hardware_31.jpg
   :align: center
   :width: 8cm

The slotted end of the threaded insert goes down into the dowel hole first. Do a Google search for recommendations on the best way to install these. The way I used was to take a 1.5” ¼-20 bolt, thread a nut on it first, then screw the insert on the end of the bolt until it touches the nut. Clamp the dowel securely, then use a socket driver to start threading the insert into the hole, using firm downward pressure. Once you get it started, use a wrench on the nut to continue screwing the insert into the dowel. Once the insert is fully in the dowel, hold the bolt steady with a socket driver, and use a wrench to loosen the nut. You should then be able to unscrew the bolt/nut with the socket wrench.

If you only use a bolt, no nut, what will most likely happen is that you will screw the insert in all the way, but it will get stuck on the insert; when you try to unscrew the bolt, the insert will come out of the dowel, and you’ll find it difficult to impossible to remove the insert from the bolt.

So here are the four dowels with the inserts in them:

.. figure:: ../figures/hardware/hardware_32.jpg
   :align: center
   :width: 8cm

You can attach the dowels legs now to the bottom plate with ¼-20 bolts, as with the simple stand, but the heads of the bolts will stick out and keep the top plate from being flat against the bottom plate. To get around this, drill ½” countersink holes in the bottom plate that the bolt heads will fit into:

.. figure:: ../figures/hardware/hardware_33.jpg
   :align: center
   :width: 8cm

I used a ½” drill bit to create these, which is why they look so horrible. You can buy ½” countersink bits, or you can ask your friendly neighborhood woodworking expert to make them for you. The ¼-20 bolt heads should now fit inside these countersinks, flush with or below the surface of the bottom plate:

.. figure:: ../figures/hardware/hardware_34.jpg
   :align: center
   :width: 8cm

Repeat the process with all four holes in the bottom plate, and check that the dowels fit:

.. figure:: ../figures/hardware/hardware_35.jpg
   :align: center
   :width: 8cm

Next, you’ll be drilling the holes needed to attach the dome to the top plate. Start by marking the positions for four holes on the top plate; you’ll want them spaced about halfway between the edge of the plate, and the edge of the hole (shaded a bit towards the outside of the plate). Measure carefully to make sure they’re centered relative to the edges of the plate:
   
.. figure:: ../figures/hardware/hardware_36.jpg
   :align: center
   :width: 8cm

.. note::
   
   The dowel holes near the hinges are in the wrong position here – they got filled in later on, and the correct holes drilled).

Now drill holes at the marked position for #10 machine screws/bolts:

.. figure:: ../figures/hardware/hardware_37.jpg
   :align: center
   :width: 8cm

Now mark a spot on the flange of the dome so that’s it centered with the camera mount holes at the top, near the cable end, as shown below. It needs to be in this location to minimize the movement of the cables as you tilt this top plate up and down. It will also make lining a camera up in the correct orientation easier in some use cases, e.g. when you use a camera on a tripod:

.. figure:: ../figures/hardware/hardware_38.jpg
   :align: center
   :width: 4cm

You want to make sure to position the marked hole so that when that hole lines up with a hole in the top plate, the dome can be correctly centered on the plate, with no part of it overlapping the edge. Wouldn’t be a disaster, but wouldn’t look good.

Drill a hole at the single marked position for the #10 machine screw/bolt, using first your 1/8” acrylic drill, then a step drill:

.. figure:: ../figures/hardware/hardware_39.jpg
   :align: center
   :width: 8cm

Take a 1” #10 machine bolt, run it through the hole in the top plate on the hinge side, and put the dome on the plate with the bolt going through the drilled hole; attach it with a knurled brass nut, on top of a neoprene rubber washer and metal washer. Attach the dome securely with the nut, but don’t tighten it too much; acrylic doesn’t like that:

.. figure:: ../figures/hardware/hardware_40.jpg
   :align: center
   :width: 8cm

The dome should be centered on the top plate, with no part of it going over the edge of the top plate. If it does overlap the edges a bit, you can drill out the dome hole slightly larger to allow you to position it correctly. The knurled nut is visible on the left, on the hinge side:

.. figure:: ../figures/hardware/hardware_41.jpg
   :align: center
   :width: 8cm

Tape the dome in place with masking tape, to hold it securely:

.. figure:: ../figures/hardware/hardware_42.jpg
   :align: center
   :width: 8cm

Push and twist a drill bit through the three remaining holes to mark the positions on the dome flange where you need to drill holes:

.. figure:: ../figures/hardware/hardware_43.jpg
   :align: center
   :width: 8cm

Drill holes in these position for the #10 screws, then insert the remaining bolts/knurled nuts to see if everything lines up. If not, you can drill the holes a bit larger:

.. figure:: ../figures/hardware/hardware_44.jpg
   :align: center
   :width: 8cm

For mounting the dome vertically, it can be useful to have the dome oriented 90 degrees to the right of the current configuration. Try rotating the dome 90 degrees and seeing if the screws still line up; if not, you can drill them a bit larger:

.. figure:: ../figures/hardware/hardware_45.jpg
   :align: center
   :width: 8cm

Finally, the #10 screw/bolt heads on the bottom of the top plate will keep it from sitting flat on the bottom plate. So, like the dowel bolts, you’ll need to drill countersinks on the bottom of the top plate to accommodate the heads:

.. figure:: ../figures/hardware/hardware_46.jpg
   :align: center
   :width: 8cm

Next is the center plate. Grab the bottom plate, the round disk, and the center piece with the radial notch cut out. Glue the round disk to the center of the notched piece:

.. figure:: ../figures/hardware/hardware_47.jpg
   :align: center
   :width: 8cm

Take the three mending plates, and attach them to the center plate at the three positions seen below with 3/8” #6 wood screws (pre-drilling the holes will help):

.. figure:: ../figures/hardware/hardware_48.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_49.jpg
   :align: center
   :width: 8cm

Mark a hole position for one of the three mending plates, then drill a hole for a #8 threaded brass insert in the bottom plate. Install the insert (in a similar manner to the dowel inserts), then attach the mending plate to the bottom plate using a ½” #8 machine screw:

.. figure:: ../figures/hardware/hardware_50.jpg
   :align: center
   :width: 8cm

Center the plate as best as possible, tighten the screw, then mark hole positions at the other two mending plates. Drill holes and install threaded brass inserts at the other two holes:

.. figure:: ../figures/hardware/hardware_51.jpg
   :align: center
   :width: 8cm

Then replace the center plate and install all three screws to make sure they fit, and hold the center plate securely:

.. figure:: ../figures/hardware/hardware_52.jpg
   :align: center
   :width: 8cm

The next section describes installing the braces that allow use of the dome in a vertical orientation. Even if you don’t think you’ll need to use it that way, I still recommend setting up the dome to allow vertical use – you never know what your system might ultimately be used for.

First, re-attach the bottom plate to the top plate at the hinges:


.. figure:: ../figures/hardware/hardware_53.jpg
   :align: center
   :width: 8cm

Note here that the dowel holes are in the correct position (and you can see where the incorrect holes were filled in with wood putty).

Now you’ll need to position and size two square wooden braces (3/4” to 1” square) to hold the top plate (with the dome attached) vertically. Here I have two braces positioned:

.. figure:: ../figures/hardware/hardware_54.jpg
   :align: center
   :width: 8cm

In the picture above, I have the bottom of the braces flush with the edge of the bottom plate. This was wrong – it should be lined up in the center of the gap between the top and bottom plates. As a result, the braces were too long, and the dome wouldn’t fit until I ground off one of the edges. You want the brace to be long enough to overlap the dome hole on the top plate plus a bit more, but not so long as to block the dome. About 2-3/4 or 2-7/8” is about right. You can check this by placing the dome on the top plate, lining it up with its mounting holes, then making sure the braces clear.

Take one brace, and put it in position relative to the top plate held vertically, and the dowel hole drilled in the top plate; clamp it in place:

.. figure:: ../figures/hardware/hardware_55.jpg
   :align: center
   :width: 8cm

Drill a 5/16” hole through the dowel hole in the top plate, extending all the way through the brace piece on the other side:

.. figure:: ../figures/hardware/hardware_56.jpg
   :align: center
   :width: 8cm

Insert a ¼-20 threaded brass insert into the hole in the brace, then bolt the brace into place:

.. figure:: ../figures/hardware/hardware_57.jpg
   :align: center
   :width: 8cm

If it doesn’t fit neatly in place (or even if it does), you can drill out the hole in the top plate to 3/8” diameter to allow you more wiggle room in positioning the brace. Now trace the outline of the brace on the bottom plate:

.. figure:: ../figures/hardware/hardware_58.jpg
   :align: center
   :width: 8cm

Drill a 5/16” hole in the bottom plate, roughly where the center of the brace will be:

.. figure:: ../figures/hardware/hardware_59.jpg
   :align: center
   :width: 8cm

Flip the top plate up until the bottom of the brace is against the bottom plate, then drill a 5/16” hole into the bottom of the brace using the hole in the bottom plate as a guide:

.. figure:: ../figures/hardware/hardware_60.jpg
   :align: center
   :width: 8cm

Install a ¼-20 threaded brass insert into the hole at the bottom of the brace. Bolt it back in place on the top and bottom plates to make sure it fits; you can drill out the bottom plate hole to 3/8” to give you more wiggle room in positioning the brace vertically:

.. figure:: ../figures/hardware/hardware_61.jpg
   :align: center
   :width: 8cm

Mark the bottom of the brace to identify its position (I put “L” to mark this one as the left brace).

Repeat the same procedure to install the brace on the other side.

Almost all of the parts assembly is done; now comes painting. Disassemble all parts, including the braces and hinges. The only parts that absolutely need to be painted are the bottom and center plates; these should be painted flat/matte black to reduce light scattering inside the dome. However, I recommend painting the entire stand, because it looks better, and also protects it from moisture. You can choose whatever colors you feel are appropriate. I used black for the entire bottom/center plate assembly, since that made it easier.
For the rest of the dome stand, I used white, since it’s intended for both indoor and outdoor use, and white will help keep it cooler in the sunlight. If you only plan to use it indoors, use whatever colors you want. Once the paint dries, attach dense rubber padding to the bottom of the dowel stand legs, for vibration reduction and to keep the system from sliding around. Sorbothane is awesome, but expensive; Google for other vibration dampening options. Your system should always be used in a vibration-minimized environment, e.g. a sturdy heavy table sitting on a concrete floor.

Now re-assembly your stand: 

1. Attach the hinges to the top and bottom plates.
2. Attach the dowel stand legs with 1” ¼-20 bolts.
3. Attach the center plate to the bottom plate with #8 screws.
4. Attach the dome to the top plate with #10 screws, neoprene and metal washers, and brass knurled nuts.

For vertical mode:

1. Remove the dome from the top plate.
2. Mount the top plate vertically with ¼-20 bolts and washers.
3. Mount the dome on the back side of the top plate.
4. While the system will be fairly stable in vertical configuration, I recommend keeping the center plate in place, and putting large books or other heavy weights in place to make it more stable.

If any part of assembly is unclear, use the `video <https://youtu.be/7eKqabiYqeA>`_ as a guide to figure out where/how everything fits together.

You will want to mark the center of the plate to aid in positioning samples..

Use the camera installed on the top of the dome. I put a small washer on the center plate, and centered the washer in the camera view. I then marked the center of the hole of the washer with a bit of white paint dabbed with a toothpick:

.. figure:: ../figures/hardware/hardware_62.jpg
   :align: center
   :width: 8cm

You can place the samples directly on the wooden disk, but I usually put some kind of smoother black/gray material on the disk to serve as a less-textured background.

One final optional step. If you plan to use either a macro lens or a USB microscope with this system, you’ll want some way to accurately position your sample in place. I use an inexpensive micrometer stage intended for use with lab microscopes for this. Position the micrometer X-Y screws so that the stage is in the center position, put a glass slide into its holder, and place it on the center plate so that the center of the glass slide is at the center of the center plate:

.. figure:: ../figures/hardware/hardware_63.jpg
   :align: center
   :width: 8cm

Mark the position of the center screw hole, and drill a hole for a #4 machine screw. On the underside of the micrometer stage, there are two positioning pins:

.. figure:: ../figures/hardware/hardware_64.jpg
   :align: center
   :width: 8cm

You’ll need to drill holes in the center disk to accommodate those. The simplest way is to attach the micrometer stage with the screw to the center plate, lining it up as in the second picture above. Then press on the micrometer stage so that the pins make minor indentations in the center plate. You can then drill holes at the indentations that the pins can drop into, and install the micrometer stage:

.. figure:: ../figures/hardware/hardware_65.jpg
   :align: center
   :width: 8cm

While you can attach small samples directly to a glass slide in the micrometer stage, I use a piece of black posterboard with a glass slide glued underneath to make a larger sample stage:

.. figure:: ../figures/hardware/hardware_66.jpg
   :align: center
   :width: 8cm

The glass slide fits in the micrometer stage, and the entire posterboard piece moves with it.

Finally, the 1.5” ¼-20 bolts with washers and wing nuts can be fastened through the holes running through both the top and bottom plates to keep the system secure during transportation.

Mounting the camera
-------------------

When acquiring RTI data, you need to have the camera pointing straight down at the object being photographed, through the hole at the top of the dome. Which brings up the question, how do you mount the camera above the dome so that it’s fixed, rigid, and pointing straight down? Here are some possible ways, some of which I’ve tried, some of which I haven’t (but which could work). One of these may work for you, but you may also have to come up with your own unique camera mounting system.

Solution 1 - a tripod
^^^^^^^^^^^^^^^^^^^^^

Use a tripod that lets you mount the head on the bottom. Like this model, and many others:

.. figure:: ../figures/hardware/hardware_67.jpg
   :align: center
   :width: 8cm

Orient the camera so that it’s facing straight down, and position it so that it’s looking through hole at the top of the RTI dome. I use this method with my smaller domes when I have to shoot with a larger camera like a DSLR:

.. figure:: ../figures/hardware/hardware_68.jpg
   :align: center
   :width: 8cm

Works fine: `video clip <https://www.youtube.com/watch?v=V13BZAdY0yE>`_.

Although the pistol grip on this tripod is pretty weak – it’s just barely able to hold up this Nikon D90. If I buy another tripod like this one, I’d choose a standard tripod head that should be more stable (as long as I can adjust it to let the camera point straight down.

Advantages:

* You may already have a tripod that can do this.
* Strong enough to support large cameras.
* Flexible enough to support a variety of camera sizes (compact to DSLR).

Disadvantages:

* If you don’t have a tripod like this, you’ll have to buy one.
* Requires a fair amount of table space even for a small dome, and more for a larger dome.
* Not practical for very large domes (> 24” in diameter)

Solution 2 - a pivot tripod
^^^^^^^^^^^^^^^^^^^^^^^^^^^

Use a pivot tripod or tripod extender like these guys:

.. figure:: ../figures/hardware/hardware_69.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_70.jpg
   :align: center
   :width: 8cm

Haven’t used either of these, so can’t comment too much on advantages/disadvantages. Seems to me that the extender might be susceptible to vibrations that might blur the image, and the pivot tripod might have problems supporting a camera if it’s extended too far (unless you can add a counterweight).

Solution 3 - a camera stand
^^^^^^^^^^^^^^^^^^^^^^^^^^^

Here’s one you can buy off the shelf:

.. figure:: ../figures/hardware/hardware_71.jpg
   :align: center
   :width: 8cm

Haven’t tried this one directly, although a friend used a similar concept on a dome I built for him. Seems like a decent solution, although you may need to modify your dome stand to get it to fit. Another option would be to adopt the “pole” part of this design and attach it directly to the stand.

Solution 4 - PVC stand
^^^^^^^^^^^^^^^^^^^^^^^^^^^

½” PVC pipe – is there anything it can’t do? Here’s one of the earliest camera stands I made for an 18” dome, out of PVC pipe glued together (with foam rubbed on the bottom to prevent movement and vibration). The camera is held in place with a ¼-20 screw in the back of the T-junction. The white unpainted pieces of PVC are not glued in place, so that I can rotate the camera into position.


.. figure:: ../figures/hardware/hardware_72.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_73.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_74.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_75.jpg
   :align: center
   :width: 8cm

Advantages:

* Cheap, parts readily available.
* Strong enough to hold cameras up to DSLR sizes

Disadvantages:

* Requires a much larger stand to accommodate both the dome and the camera holder
* While reasonably steady, you’ll definitely need a stable, vibration-free surface to put it on
* Only accommodates one camera size at a time. You can raise it with supports, I suppose, but not sure how stable that would be.

These are just a few ideas – you may have to come up with your own design to accommodate your camera. For most of the photography I do, I use a compact camera, and I’ve come up with a simple, stable holder design that should work well with any dome size:

.. figure:: ../figures/hardware/hardware_76.jpg
   :align: center
   :width: 8cm

Small, neat, secure, easy to install – perfect for the right camera. What is the right camera? It needs to be a reasonably small camera that will lay flat/parallel on the wooden board when you insert the lens assembly into the hole drilled in the board. Here’s my Canon S110 from the front:

.. figure:: ../figures/hardware/hardware_77.jpg
   :align: center
   :width: 8cm

Nice flat front, lays very flat as long as the hole is big enough to contain the lens and the ring outside it.

Here’s my Canon SX260:

.. figure:: ../figures/hardware/hardware_78.jpg
   :align: center
   :width: 8cm

Curved front, which you think might disqualify it. And yet, if I lay it on a board with a hole cutout just big enough for the lens assembly to fit, it also lays parallel to the board, and works great as a camera for the RTI system. So the moral is, you have to try the camera before determining whether it will work with this style of holder or not.

Remove the holder, and the holes that hold it in place become visible:

.. figure:: ../figures/hardware/hardware_79.jpg
   :align: center
   :width: 8cm

This hole is 2.5” in diameter, specified so that a telescope eyepiece focuser could fit exactly (the notch at the bottom of the hole was cut for the focuser gear train):

.. figure:: ../figures/hardware/hardware_80.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_81.jpg
   :align: center
   :width: 8cm

Why am I mentioning this? Because I used the eyepiece focuser as a template for drilling holes into both the dome, and into the wooden camera holder. The focuser is intended for use with a USB microscope, for high-magnification RTI work. What if you don’t have a focuser? Or, in my case, what if you had the hole drilled to a size other than 2.5” in diameter, like the 3” for the dome I’m using for this build? How do you position the holes to be drilled on the dome, and how do you get the holes on the wooden board to match up?

The following is my solution. If you think of a better one, let me know.

Start by getting a board cut to square dimensions, large enough to hold the camera when the lens assembly is centered on the middle of the board. I have a board already cut to about 5” x 5” (a bit less):


.. figure:: ../figures/hardware/hardware_82.jpg
   :align: center
   :width: 8cm

and my Canon S110 will fit on that:

.. figure:: ../figures/hardware/hardware_83.jpg
   :align: center
   :width: 8cm

Draw lines between opposite diagonal corners, and the center will be where they intersect. Draw a circle around the center that has the same diameter as the hole in your dome, 3” in this case:

.. figure:: ../figures/hardware/hardware_84.jpg
   :align: center
   :width: 8cm

Now figure out where to space/place the holes. In my case, I want to space the holes with the same distances as the screw holes for the telescope focuser, so that I have the option of using the focuser with this new dome. The holes are spaced about 74.5mm apart on the focuser, so using Pythagorean geometry, I calculate that the holes should be about 52.7mm away from the center of the block (sqrt(2*74.5^2)/2). I mark drill hole positions at those distances from the center:

.. figure:: ../figures/hardware/hardware_85.jpg
   :align: center
   :width: 8cm

In the likely case that you’re not worried about the option of installing a telescope focuser, you can pick any radius outside the hole and inside the board to mark the positions. But be careful not to put them in a location where you might unintentionally drill through an LED or some wiring in the dome. The distance I’m using should be pretty safe for most domes, but check to make sure.
Use a nail or small drill bit to make a precise starter hole, then drill a 1/8” hole through each of the drill marks:

.. figure:: ../figures/hardware/hardware_86.jpg
   :align: center
   :width: 8cm

If you have a hole saw the same size as the hole in your dome, you can now use it to drill out a hole in this board. Aligning the hole in the board with the hole in the dome, and taping the board in place (see later on in this instruction step), you can use this board as a jig for drilling holes in the dome.

But, if like me, you don’t have a hole saw big enough, you have to go through a few more steps. First, lay some blue painters tape on the floor sticky side up, then place the board on that tape. Use more tape to fix the board to the floor:

.. figure:: ../figures/hardware/hardware_87.jpg
   :align: center
   :width: 8cm

Now place the RTI LED dome upside down on top of the board, so that the board is visible through the hole. Move the dome around on the board until the drawn circle is aligned evenly with the edge of the dome hole:

.. figure:: ../figures/hardware/hardware_88.jpg
   :align: center
   :width: 8cm

In the above picture, there’s still a bit of the drawn circle visible on the top left, but none on the bottom right, so it’s not perfectly aligned yet.

Once aligned, put tape on the inside to help hold the board in place:

.. figure:: ../figures/hardware/hardware_89.jpg
   :align: center
   :width: 8cm

Use the first piece of tape, laid sticky side up on the floor, to further fix the board to the dome. Then remove the tape holding the board to the floor, and flip it right side up.

.. figure:: ../figures/hardware/hardware_90.jpg
   :align: center
   :width: 8cm

This may look good, but I wanted the board a bit more clockwise, so that the center line between the holes lined up just to the right of the Gorilla tape at the base of the dome. So I repeated the process, and got this:

.. figure:: ../figures/hardware/hardware_91.jpg
   :align: center
   :width: 8cm

Exactly where I wanted it, and a useful orientation for a more advanced stand I’ll be documenting further on.

Put more tape on the board to hold it firmly in place, much more than I did below:

.. figure:: ../figures/hardware/hardware_92.jpg
   :align: center
   :width: 8cm

Double-check one last time to make sure the holes aren’t above LEDs or wiring inside the dome. Then using your 1/8” acrylic drill bit, use the holes in the board as a guide to drill 4 holes into the top of the dome:

.. figure:: ../figures/hardware/hardware_93.jpg
   :align: center
   :width: 8cm

See that double hole at lower left? That’s because I didn’t have enough tape holding the board in place while I was drilling, and it slipped on the last hole. I had to re-align the board and re-drill the hole in the proper location. I then used a step bit to clean out that double hole:

.. figure:: ../figures/hardware/hardware_94.jpg
   :align: center
   :width: 8cm

Acid test is, does the telescope focuser fit? Putting it inside the main hole, and putting screws through the focuser and the dome:

.. figure:: ../figures/hardware/hardware_95.jpg
   :align: center
   :width: 8cm

Three of the four screws went in perfectly; the fourth one (visible on the right) was a bit off. Fixing that is as simple as enlarging that hole in the dome a bit, which I did.

You should now mark the wooden board you used for aligning these holes as a permanent template, and only use it for creating new boards. Here I’ve taped the template on top of another board, using it to mark a fresh set of drill holes:

.. figure:: ../figures/hardware/hardware_96.jpg
   :align: center
   :width: 8cm

Use a 1/8” drill bit through the template holes to mark the drill positions underneath, making small pilot marks.

.. figure:: ../figures/hardware/hardware_97.jpg
   :align: center
   :width: 8cm

Draw diagonal lines between opposite holes to find a central point.

Next, take the camera and measure the size of the hole you’ll need to drill in this board for the lens assembly to fit through. I used a pair of calipers, but a ruler should get you close enough:


.. figure:: ../figures/hardware/hardware_98.jpg
   :align: center
   :width: 8cm

I measured a hole diameter of 2.05”, so that’s the minimum diameter hole I need to cut in the wooden board for it to fit through. Don’t worry if it’s a bit big – you’ll have additional control over its final position. Use whatever cutting implement you want. I had a hole saw 2” in diameter, and used that; if the hole was a bit small, I planned on sanding it out until it fit.

.. note::
   
   When using a hole saw, remove it frequently to blow out the sawdust. If the saw teeth fill with sawdust, it won’t cut any further.

.. figure:: ../figures/hardware/hardware_99.jpg
   :align: center
   :width: 8cm

As it happened, the hole saw had enough cutting loss that the camera lens assembly fit perfectly into it without further trimming.

.. figure:: ../figures/hardware/hardware_100.jpg
   :align: center
   :width: 8cm

And checking the fit of the board into the dome holes using #6 screws, it fit perfectly as well – no need to enlarge any of the holes:

.. figure:: ../figures/hardware/hardware_101.jpg
   :align: center
   :width: 8cm

To attach the camera securely to the board, and align it correctly, this holder uses the ¼-20 tripod mounting hole on the base of the camera. Cut a ½”-thick rectangular piece of wood the height of the camera when inserted into the hole (2 cm in this case):

.. figure:: ../figures/hardware/hardware_102.jpg
   :align: center
   :width: 8cm

On the left, you want it to clear the washer the screw will go through. On the right, you want it to go at least as far as the tripod hole plus a bit more:

.. figure:: ../figures/hardware/hardware_103.jpg
   :align: center
   :width: 8cm

Pencil mark above shows where I cut this piece. Ideally, the piece will allow you to open the base door of the camera to replace the battery or SD card:

.. figure:: ../figures/hardware/hardware_104.jpg
   :align: center
   :width: 8cm

Possible on my Canon S110, but not possible on every camera; my Canon SX260 didn’t allow for this.

In the small block you’ve just cut, measure where the center of the tripod hole is on the camera, mark it on the block, and drill a 5/16” hole there. You can then insert a 1” ¼-20 bolt with washer through the hole, screwing it into the camera’s tripod hole.

.. figure:: ../figures/hardware/hardware_105.jpg
   :align: center
   :width: 8cm

Making sure the camera lens is fully inside the central hole, loosen the bolt, press the wood piece until it’s flat against the board, then tighten the bolt. Remove the camera/wood piece assembly, put a small amount of general purpose glue (Elmer’s, Weldbond) on the bottom of the wood piece, then put the camera/wood assembly back so that the camera is lined up as evenly with the drill holes as possible. Press firmly down, then let the glue dry before unbolting the camera. Not too much glue – you don’t want it to ooze out and glue the camera to the board as well, though general purpose glue should peel off the camera in case that happens.

Put the mounting screws in, and check to make sure that the battery/SD card door still opens with the screw in place. For this camera, there’s enough clearance:


.. figure:: ../figures/hardware/hardware_106.jpg
   :align: center
   :width: 8cm

If it didn’t clear, I could always countersink the screw head to lower a bit. In fact, I did that with another screw on the board that slightly blocked access to the zoom control on the top of the camera:

.. figure:: ../figures/hardware/hardware_107.jpg
   :align: center
   :width: 8cm

Putting the camera holder back on the dome to check the fit again:

.. figure:: ../figures/hardware/hardware_108.jpg
   :align: center
   :width: 8cm

Looks good. The fit is pretty snug with just the screws through the holes, but if I need extra security, I use a neoprene washer, steel washer, then brass knurled nuts to attach it internally to the dome:

.. figure:: ../figures/hardware/hardware_109.jpg
   :align: center
   :width: 8cm

Don’t tighten the knurled nuts too much – just enough to make them snug.

And the camera still fits:

.. figure:: ../figures/hardware/hardware_110.jpg
   :align: center
   :width: 8cm

I painted the camera holder later on – white on top to match the dome, black on the bottom. I found that painting the bottom white caused some problems with very reflective objects – they reflected the image of the bottom. Painting the bottom black fixed that problem.

This is obviously only a practical solution for smaller cameras like point-and-shoots; DSLRs can’t be attached this way. For whatever camera you want to use, you may have to find/build your own unique holder.

Controlling the camera shutter
------------------------------

For creating an RTI dataset, you first need to acquire a set of photos taken at different lighting angles – that’s what the RTI-Mage system is for. It lets you take up to 64 photos at different lighting angles, which can be processed into an RTI data file. There are a number of ways that the RTI-Mage allows synchronization of the camera shutter with each individual LED light at a different angle:

Manual
  For cameras that don’t have any remote capability supported by the RTI-Mage. The LED lights and shutter are advanced manually.
Automatic
  A number of modes support automatic shutter triggering in synchronization with the LED lights, including
CHDK
  RTI-Mage supports cameras that can run the Canon Hacker’s Development Kit through a USB cable connection, using the Remote Parameters settings.
IR Remote
  RTI-Mage supports Canon, Nikon, Sony, Pentax, Olympus and Minolta cameras that have an IR remote capability, using a custom-built cable.
Wired remote
  RTI-Mage can support some cameras with wired remote connectors, using a custom built cable.
Bluetooth
  Using the Adafruit Bluetooth HID module, RTI-Mage can support cameras that are controlled by computer software. Examples would include USB microscopes and Canon/Nikon cameras that use manufacturer’s custom software.
Servo
  For cameras that don’t support any other remote mode, a small servo can be used to mechanically depress the shutter automatically. **NOT YET SUPPORTED – I’M WORKING ON IT**.

Here’s some more information about each mode.

Manual
^^^^^^
This mode is for those whose camera does not support any of the automatic modes listed below; the Mode switch will need to be in the manual position. In this mode, an LED is lit manually with a press of the Action button, and stays on long enough to allow you to press the camera shutter button manually to take the picture. If the light goes off before you press the shutter, you can turn it back on with the WB button. When the photo is shot, press the Action button to advance to the next LED in the sequence. For good results, the camera and dome will need to be stably/firmly mounted in place, so that neither moves when the shutter is pressed. Otherwise, the RTI imagery may be a bit blurred, though it may be difficult to see that.

Automatic
^^^^^^^^^^^^

There are a number of automatic mode options for the RTI-Mage system; which one you use depends on which kind of camera you have. Some of them require either special software installed on the camera or a computer, or a special cable to be used; these section will describe how to configure each camera/cable as required.
  
CHDK
^^^^^^

CHDK (the Canon Hackers Development Kit) is custom firmware for many Canon cameras that can be temporarily loaded from the SD card to the camera, and allows remote triggering of the shutter through the standard mini-USB connector. You can find more information about CHDK at its `wiki page <http://chdk.wikia.com/wiki/CHDK>`_, including a list of compatible cameras and installation info. Note that the wiki has many sections that are out of date. Also note that many recent Canon cameras do not work with CHDK – check the list of compatible cameras at the wiki to see if yours is. eBay or the Canon refurb store are good sources for older, CHDK-compatible Canon cameras.
  
The simplest way to install CHDK on your Canon camera’s SD card is to use the `STICK utility <http://www.zenoshrdlu.com/stick/stick.html>`_. Note that STICK can’t reformat cards in exFAT format to the required FAT32 format, and Windows won’t let you format cards larger than 32 GB in FAT32. However, the STICK page does link to several utilities that can re-format 64 GB and larger cards to FAT32. Once you’ve installed CHDK on the SD card on your computer, set it in write-protect format, insert it into your camera, then turn the power on. You should see a boot message for CHDK on your camera’s screen. Use the buttons for your camera model to access the Main Menu for CHDK- these may differ from model to model.

On my Canon S110 and SX260, pressing the Play button briefly, then the Menu button, takes you to the Main Menu for CHDK. Once there, go to CHDK Settings, then select Remote Parameters. Turn on Enable Remote, set Switch Type to OnePush, and Control Mode to Quick. Exit out of the CHDK menu, and your camera is now set to fire the shutter when it receives a voltage pulse over a USB cable plugged into the USB Shutter jack on the RTI-Mage control box on one end, and the mini-USB jack plugged into the camera at the other end. The RTI-Mage camera mode will need to be set to Auto, and the Shutter mode set to USB. Once that’s done, starting the photography cycle in Auto mode will turn on one LED, fire the camera shutter, then turn off the LED and advance to the next LED for the same cycle.
  
This is as good a place as any to mention a possible quirk with Canon cameras. When I upgraded my Canon camera from an older 8 megapixel model to a 12 megapixel one, I was surprised to find that some of my RTI imagery with the new camera looked blurrier than with the old camera. What’s more, it wasn’t consistent – sometimes it would be pin-sharp, other times not so much. Drove me crazy, but I finally figured it out. When you first turn on the Canon camera and set a zoom level, successive pictures show a slight “drift” in the pixel location from picture to picture, a maximum distance of about 7 pixels. You don’t see that when you take regular photographs because it’s a trivial amount, and you have no reference for it. RTI combines results from multiple photographs, though, so such a small drift can have a visible impact on the results. This appears to be hardware issue, as I’ve seen it with two different Canon cameras, but not a third. There’s no solid fix, but there is a workaround. The pixel drift seems to settle out after about 30 pictures, so I shoot a set of dummy pictures first; subsequent picture sets show no signs of drift. Keep in mind that if you change the zoom level, or turn the camera off then on again, you’ll have to shoot another set of dummy pictures to fix this issue.

IR-remote
^^^^^^^^^

For the IR remote, the RTI-Mage controller supports Sebastian Setz’s Arduino library for `camera IR remote control <http://sebastian.setz.name/arduino/my-libraries/multi-camera-ir-control/>`_. 

This supports a number of camera makes with IR remote capability, including Canon, Nikon, Sony, Pentax, Olympus and Minolta. To use this mode, you will need to build an IR remote cable to plug into the USB Shutter jack on the RTI-Mage control box (instructions below); you will also need to enable support for your camera model in the RTI-Mage software (more on this in another instruction step).
The IR remote cable is simplicity itself. The positive and ground wires from a USB cable are connected to a 940 nm IR LED, with a 100R resistor in series to limit the current to 31 mA at 5V. To build the IR remote cable, grab a spare USB cable, and cut off the end that isn’t the USB A male plug (see here):

.. figure:: ../figures/hardware/hardware_111.jpg
   :align: center
   :width: 4cm

Strip the insulation off the cut wire end, revealing four wires: red, black, green and white:

.. figure:: ../figures/hardware/hardware_112.jpg
   :align: center
   :width: 8cm

Cut off the green and white wires – you won’t need them.

Saw a small section of protoboard off the larger piece listed in the components section. Sawing seems to be the best option, as cutting tends to make the board explode into little bits. Read somewhere someone suggesting drilling out the holes in the board to make a cut, but haven’t tried that. Take the IR LED and stick it into one side of the board, long lead (positive/anode) on the left. Bend the IR LED until the leads are flat against the protoboard:

.. figure:: ../figures/hardware/hardware_113.jpg
   :align: center
   :width: 8cm

Insert a 100R resistor into the protoboard next to the left LED lead (anode), and bend the leads as shown:

.. figure:: ../figures/hardware/hardware_114.jpg
   :align: center
   :width: 8cm

Strip insulation off the red and black wires of the USB cable. Insert the red wire into the hole adjacent to the resistor; insert the black wire into the hole adjacent to the right LED lead (ground/cathode). Solder all adjacent connections and trim off excess leads; attach the main USB cable to the protoboard with a bit of wire:

.. figure:: ../figures/hardware/hardware_115.jpg
   :align: center
   :width: 8cm

Didn’t take a picture, but I globbed hot glue over all the components on the protoboard to hold them securely.

It’s hard to test whether this LED is working correctly, even when plugged in, because the IR light is invisible to the naked eye. Camera sensors can detect IR light, which is why they normally have an IR filter in front to block out IR. However, this IR LED is bright enough that a camera can pick it up.

Grab your digital camera, set your ISO to the highest level you have, set the mode to Auto, then turn out the lights. Plug the IR LED cable you just made into a 5V USB power supply (your computer will work fine), and point the LED straight into the lens of the camera. In the display, you should see a faint purplish glow – that will tell you that you’ve assembled the IR LED cable successfully.

.. figure:: ../figures/hardware/hardware_116.jpg
   :align: center
   :width: 8cm

.. figure:: ../figures/hardware/hardware_117.jpg
   :align: center
   :width: 8cm

Once I saw the IR LED was working, I wrapped it up in black Gorilla tape for the final packaging. Feel free to pursue a more elegant packaging solution.

.. figure:: ../figures/hardware/hardware_118.jpg
   :align: center
   :width: 8cm

To use this IR remote with a compatible camera and the RTI-Mage controller:

1. Modify the RTI-Mage software to enable your camera make (more on this in the upcoming section on the RTI-Mage control software).
2. Plug the IR remote cable into the USB Shutter jack.
3. Set the Mode switch to Auto, and the Shutter mode to IR/Bluetooth.
4. Point the IR at the camera’s IR sensor (check the manual for its location), and then fix it in place (tape, clamp, wire, whatever).
5. Check your owner’s manual for how to set the camera to respond to an IR signal. Typically, this involves one of the timer-related control settings on your camera.

That should be it. Once that’s done, starting the photography cycle in Auto mode will turn on one LED, fire the camera shutter, then turn off the LED and advance to the next LED for the same cycle.

Wired remote connection
^^^^^^^^^^^^^^^^^^^^^^^

A wired remote connection can be created for those cameras that support it. However, unless the camera doesn’t support IR remote capability, I would recommend you use the IR option. A single IR cable can support multiple camera modes, but unfortunately just about every camera maker has a proprietary plug/jack for their wired remote. There’s a full set of pictures and pin-outs at the `Camera Remote Release Pinout list <http://www.doc-diy.net/photo/remote_pinout/>`_, which will give you a feeling for how complicated it can be.

However, for many of the cameras, the mechanism is quite simple – if you complete a circuit across one/two camera remote connections and ground, the shutter will fire. There are many ways this could be done mechanically, with relays/electromechanical switches, but the reading I did suggested that there are problems with switch “bounce” with these. Bounce means that the mechanical switch hits the other contact, bounces off, then hits again for a double-contact; this means the potential for a double shutter release. So I’m using a commonly-employed circuit that closes a circuit electronically using a chip called an optocoupler (or optoisolator).

This chip has an LED and a phototransistor. When the LED is off, the phototransistor doesn’t allow any current to flow, leaving the circuit open; when the LED is on, the phototransistor lets current flow, closing the circuit. The optocoupler chip I use is the 4N35, cheap and readily available, but there are many other models you could use.

As with the IR remote, grab a USB cable and cut off the non-USB A end; strip the cable insulation off:

.. figure:: ../figures/hardware/hardware_119.jpg
   :align: center
   :width: 8cm

Cut off the unneeded white and green wires, and strip insulation off the other two:

.. figure:: ../figures/hardware/hardware_120.jpg
   :align: center
   :width: 8cm

Cut out a small piece of protoboard, and mount the optoisolator on it:

.. figure:: ../figures/hardware/hardware_121.jpg
   :align: center
   :width: 8cm

You’ll be connecting the LED pins to the USB wires, with a current-limiting resistor in series. You’ll be connecting the collector and emitter to the positive voltage and ground connections of the wired remote cable.

Insert a 100R resistor next to the positive LED pin:

.. figure:: ../figures/hardware/hardware_122.jpg
   :align: center
   :width: 8cm

Insert the red USB wire next to the resistor lead, and the black USB wire next to the ground LED pin on the 4N35:

.. figure:: ../figures/hardware/hardware_123.jpg
   :align: center
   :width: 8cm

Solder the connections together; I attach the USB cable to the protoboard with a bit of twisted wire for strain relief:For some remote cables you can find generic plugs, like the 2.5mm stereo jacks used for older Canon camera wired remotes. For most recent cameras, though, the connectors are non-standard/proprietary.

Cheapest source for one of these is to order an inexpensive wired remote for your model from eBay or Amazon, then cut off the remote switch. Strip the insulation off, and for Canon/Nikon/a few others, you will likely see three wires (this is an older Nikon cable):

.. figure:: ../figures/hardware/hardware_124.jpg
   :align: center
   :width: 8cm

For some remote cables you can find generic plugs, like the 2.5mm stereo jacks used for older Canon camera wired remotes. For most recent cameras, though, the connectors are non-standard/proprietary. Cheapest source for one of these is to order an inexpensive wired remote for your model from eBay or Amazon, then cut off the remote switch. Strip the insulation off, and for Canon/Nikon/a few others, you will likely see three wires (this is an older Nikon cable):

.. figure:: ../figures/hardware/hardware_125.jpg
   :align: center
   :width: 8cm

One of these is the ground connector, one controls focus, and the third fires the shutter. The colors aren’t standard, unfortunately, so you’ll have to use a multimeter and the pinout diagrams from the DIY.net site to figure out which is which. In this case, blue was ground, green was focus, and red was shutter.

From experience, I know that with Canon cameras you only have to connect the ground and shutter wires to the remote to have it work correctly with the RTI-Mage. However, with Nikon cameras, both the focus and shutter wires need to be connected together in order for the shutter to fire correctly:

.. figure:: ../figures/hardware/hardware_126.jpg
   :align: center
   :width: 8cm

Insert the ground wire next to the emitter pin on the 4N35, and the focus/shutter wires next to the collector pin. Solder in place; add strain relief to the cable with twisted wires:

.. figure:: ../figures/hardware/hardware_127.jpg
   :align: center
   :width: 8cm

Just to secure everything in place, I globbed hot glue on everything:

.. figure:: ../figures/hardware/hardware_128.jpg
   :align: center
   :width: 8cm

And then wrapped it all up in Gorilla tape:

.. figure:: ../figures/hardware/hardware_129.jpg
   :align: center
   :width: 8cm

To test the cable, connect your multimeter in resistance mode to the shutter and ground pins on the connector, then plug it into any powered USB jack. You should see the resistance drop from infinity down to about 50R or so, which should be enough to trigger the camera shutter. Canons usually work reliably, Nikons can be a bit flakey; that’s why I prefer the IR remote, since it works more reliably with all cameras.

To use this remote cable with the RTI-Mage:

1. Plug the wired remote cable into the USB Shutter jack.
2. Set the Mode switch to Auto, and the Shutter mode to USB.
3. Check your owner’s manual for how to set the camera to respond to an IR signal. Typically, this involves one of the timer-related control settings on your camera.

That should be it. Once that’s done, starting the photography cycle in Auto mode will turn on one LED, fire the camera shutter, then turn off the LED and advance to the next LED for the same cycle.

Bluetooth
^^^^^^^^^

For Bluetooth, the camera shutter controlled via a computer program is fired using the Adafruit Bluetooth HID module. This is useful for USB microscopes, and Canon/Nikon cameras operated remotely via proprietary software.

There are certain circumstances where you might want to trigger the camera shutter using a computer program, rather than the main camera shutter control. Canon and Nikon have programs that allow you to display the camera view on a computer monitor, and set focus/exposure parameters from that program as well as firing the camera. In most cases, USB microscopes need to be controlled via a computer program, since most of them don’t have onboard storage. 

I’ve been using a USB microscope with my RTI-Mage system, and for that I have added the Adafruit Bluetooth EZ-Key HID adapter to the control box. This little board lets you send either a series of keyboard commands, or a mouse click, to the computer you’ve paired it with. All programs controlling a camera/microscope will have either a set of keyboard commands, or a button enabled with a mouse click, that can be triggered with this adapter.

Here’s my Adafruit board:

.. figure:: ../figures/hardware/hardware_130.jpg
   :align: center
   :width: 8cm

It comes without the pin header soldered on, but does come with the pin header so that you can do the soldering:

.. figure:: ../figures/hardware/hardware_131.jpg
   :align: center
   :width: 8cm

You can find the documentation for all the pinouts at the Adafruit site. For the RTI-Mage system, only four of the pins are used: Vin (to supply 5V power), Grounds (the other half of the power), and Tx/Rx (transmit to and receive information from the Arduino). Even the Tx is superfluous, since the Arduino is currently only sending info to the EZ-Key and not receiving it, but you might have a use for it at some point (e.g. having the computer trigger some action in the control box).

You need to connect wires to the four pins specified above, and have a bare wire lead or pin at the other end. I cut four pieces of wire, soldered female Dupont pins to one end, put plastic covers on the Dupont pins, then slid them onto the male pins:

.. figure:: ../figures/hardware/hardware_132.jpg
   :align: center
   :width: 8cm

I’d recommend using red/black wires for Vin/Grounds respectively, following conventions. I’d also recommend using different colors for Tx and Rx, to help differentiate them.

Install the EZ-Key in the RTI-Mage control box:

* Vin connects to the +5V female strip on the power board.
* Grounds connects to the ground strip on the same board.
* Tx (red above) connects to pin A14 on the Arduino Mega (digital pin 68)
* Rx (black above) connects to pin A15 on the Arduino Mega (digital pin 69)

That’s it for connections. When you hook up power, a red LED should flash on the EZ-Key. Pairing the EZ-Key with your computer requires pressing the button on the EZ-Key until the red LED starts flashing quickly, then using the Bluetooth control panel on your computer to pair with the EZ-Key. To use Bluetooth commands, set the Shutter mode switch in back to IR/Bluetooth mode.

In the RTI-Mage control software, there’s a subroutine called BT_Shutter that sends a keyboard or mouse command to your computer, depending on how you want to control the computer program. Here’s the relevant code:

.. code-block:: c
   
   void BT_Shutter() { //Sets commands for Adafruit Bluetooth HID module to fire shutter using computer
          //Fires shutter with Alt-f, s command
          //BT.write(0xE2); //Alt key
          //BT.write(0x66); //f key
          //delay(25);
          //BT.write(0x73); //s key

          //Fires shutter with left mouse button
          delay(LED_Pause_Time);
          mouseCommand(0x1,0,0); //Left button down
          delay(25);
          mouseCommand(0,0,0); //Release button
   }

I have two USB microscopes. One of them lets you capture an image with keyboard commands, Alt-F, S. The first part of the code implements sending those keyboard commands to the program controlling the USB camera, and saving images. The program window must be active in order for the command to work. For example, if you start recording images, then open up a different program, no more images will be recorded/saved, since the window is no longer active. This code is commented out here with two slashes in front, since I don’t normally use that USB microscope. If your program uses different keyboard commands to fire the shutter, you’ll need to modify this – check the Adafruit documentation for the required hex codes.

My other USB microscope doesn’t have a keyboard command to capture an image; instead, it relies on a mouse click on a capture button. The second part of the code implements that mouse click for the EZ-Key HID board. The capture program needs to be active, and the cursor needs to be sitting on top of the capture button, in order for this to work. If you move the cursor off the capture button, or the capture program is no longer active, then image capture will stop while the RTI lights keep moving on.

The delay(LED_Pause_Time) command introduces a short delay between turning on the LED and enabling the EZ-Key. I found that without this, the program might only capture part of the image. This constant is set in the top of the program, and you can tune it to whatever value works for you. You’ll also have to experiment with LED and Delay times to find the optimal setting for your application.

Servo
^^^^^^

A control system to fire the shutter mechanically using a rotating arm. This isn’t ready yet, hope to work on it shortly. If you’d like to try making this work on your own, start by cutting a standard USB cable to leave the USB A connector intact. Strip off the cable insulation to reveal the four wires:

.. figure:: ../figures/hardware/hardware_133.jpg
   :align: center
   :width: 8cm
   
Cut off the red wire, that won’t be used here. Black is ground, white is power, green is control. You’ll need to connect two jumpers on the CAT4101 board to enable both the white and green wires:

.. figure:: ../figures/hardware/hardware_134.jpg
   :align: center
   :width: 8cm

Arduino pin 27 is the servo control pin. The rest, programming and mechanical connections, is up to you for now. Hope to get to it myself shortly.